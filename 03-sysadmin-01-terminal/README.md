# Домашнее задание к занятию "3.1. Работа в терминале, лекция 1"

## Модуль 3. Основы системного администрирования

## Студент: Иван Жиляев

Ответы на вопросы из задания:

1. >4\. С помощью базового файла конфигурации запустите Ubuntu 20.04 в VirtualBox посредством Vagrant: ...

   Был создан [Vagrantfile](vagrant/Vagrantfile).

1. >5\. Ознакомьтесь с графическим интерфейсом VirtualBox, посмотрите как выглядит виртуальная машина, которую создал для вас Vagrant, какие аппаратные ресурсы ей выделены. Какие ресурсы выделены по-умолчанию?

   Виртуальная машина по-умолчанию получила следующие ресурсы:
  
   * __CPU:__ 1 логический процессор, unlimit (0-100%)
   * __RAM:__ 1024 Mb
   * __disk:__ dynamic, 64 Gb
   * __NIC:__ NAT type

1. >6\. Ознакомьтесь с возможностями конфигурации VirtualBox через Vagrantfile: документация. Как добавить оперативной памяти или ресурсов процессора виртуальной машине?

   Для добавления ресурсов ВМ необходимо модифицировать Vagrantfile (см. блок кода ниже) и перезапустить машину командой `vagrant reload` для перечитывания конфигурации. 

   ```
    config.vm.provider "virtualbox" do |v|
		  v.cpus = 2
		  v.memory = 1539
	end
   ```

1. >8\. Ознакомиться с разделами man bash, почитать о настройках самого bash:
   >    * какой переменной можно задать длину журнала history, и на какой строчке manual это описывается?
   >    * что делает директива ignoreboth в bash?

   Из вывода `man bash` следует, что:

   * длину журнала history можно задать переменной `HISTSIZE`, по-умолчанию её значение равно `500`. Описание переменной дано на строках __628-629__ вывода.
   * директива `ignoreboth` может быть указана в переменной `HISTCONTROL`, которая служит для принятия решения попадёт ли выполненная пользовательская команда в журнал history или нет. Директива `ignoreboth` включает эффекты двух других директив: `ignorespace` (не записывать команды, начинающиеся с пробела) и `ignoredups` (не записывать уже присутствующие в history команды).

1. >9\. В каких сценариях использования применимы скобки {} и на какой строчке man bash это описано?

   В строках __790-820__ сказано, что bash благодаря использованию фигурных скобок может генерировать строку по необходимому шаблону. До фигурных скобок можно указать неизменную приставку, а после них - суффикс.
   
   Пример 1:

      ```
      vagrant@vagrant:~$ echo Hello,\ {world,Rome,holidays}!
      Hello, world! Hello, Rome! Hello, holidays!
      ```

   Пример 2:

      ```
      vagrant@vagrant:~$ echo may{01..31..7}
      may01 may08 may15 may22 may29
      ```

1. >10\. Основываясь на предыдущем вопросе, как создать однократным вызовом touch 100000 файлов? А получилось ли создать 300000?

   Создать 100000 файлов можно, например, командой
   ```
   touch file{000001..100000}
   ```

   Создать 300000 файлов таким образом не получается из-за слишком длинной цепочки аргументов.
   ```
   -bash: /usr/bin/touch: Argument list too long
   ```

1. >11\. В man bash поищите по /\\[\\[. Что делает конструкция [[ -d /tmp ]]

   Двойные квадратные скобки помогают добавить ветвление при исполнении команд - они заключают в себе условие некой проверки. В зависимости от его истинности или ложности операторы оболочки выберут определённое поведение.  

   Конструкция `[[ -d /tmp ]]` будет проверять существование директории `/tmp` и вернёт значение 0, если диретория есть и 1 если её нет.

1. >12\. Основываясь на знаниях о просмотре текущих (например, PATH) и установке новых переменных; командах, которые мы рассматривали, добейтесь в выводе type -a bash в виртуальной машине наличия первым пунктом в списке:
   >
   >>bash is /tmp/new_path_directory/bash  
   >>bash is /usr/local/bin/bash  
   >>bash is /bin/bash

   Сперва растиражировал `bash` в указанные директории. Затем переопределил переменную PATH:
   ```
   export PATH=/tmp/new_path_directory:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
   ```

   В итоге вывод `type -a bash` соответствует заданию:
   ```
   vagrant@vagrant:/usr/local/bin$ type -a bash
   bash is /tmp/new_path_directory/bash
   bash is /usr/local/bin/bash
   bash is /usr/bin/bash
   bash is /bin/bash
   ```

1. >13\. Чем отличается планирование команд с помощью batch и at?

   Согласно `man at` планирование команд с помощью `at` опирается на заданное время, а `batch` - на допустимую нагрузку на процессор, т.е. команда выполнится при уровне нагрузки ниже определённого.
